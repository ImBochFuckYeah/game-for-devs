# Perfil de DOCKER - Base de datos MariaDB en contenedor
# Para usar con Docker Compose

# Database Configuration - MariaDB (contenedor)
spring.datasource.url=jdbc:mariadb://mariadb:3306/game_for_devs
spring.datasource.username=spring
spring.datasource.password=Sefgag$$2024
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.open-in-view=false
spring.sql.init.mode=always
spring.jpa.defer-datasource-initialization=true

# Usar script SQL espec√≠fico para Docker
spring.sql.init.data-locations=classpath:data-docker.sql

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.leak-detection-threshold=60000

# H2 Console deshabilitado en Docker
spring.h2.console.enabled=false

# Thymeleaf Configuration para Docker
spring.thymeleaf.cache=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# Security Configuration
spring.security.user.name=admin
spring.security.user.password=admin123
spring.security.user.roles=ADMIN

# Server Configuration
server.port=8080
server.servlet.context-path=/

# Logging para Docker
logging.level.com.umg.game_for_devs=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Actuator para healthchecks
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.db.enabled=true